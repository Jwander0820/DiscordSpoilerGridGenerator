# Discord 防雷方塊產生器 (Spoiler Grid Generator)

以**單一前端檔案** `index.html` 在瀏覽器本地生成可貼到 Discord 的 **`||spoiler||`** 方塊矩陣。
支援自訂表情與數量、矩陣尺寸、亂數種子，以及一鍵分享設定連結。**無後端、可離線使用。**

### GitHub Pages
https://jwander0820.github.io/DiscordSpoilerGridGenerator/


---

## 功能總覽
- 🧩 **任意尺寸矩陣**：預設 6×6，可輸入 1–50。
- 😀 **表情來源彈性**：支援 `<:name:id>`、`<a:name:id>`（動圖）、一般 emoji，甚至任意文字。
- 🎲 **可重現的隨機**：提供「種子（seed）」字串即可重現同一排列（採用 xmur3 + mulberry32 PRNG）。
- ➕ **不足格填補策略**：
  - `重複隨機既有表情`（從已輸入項目輪流補滿）
  - `使用下方填補表情`（指定一個 token 來補滿）
  - `留白（空 spoiler）`（以 `||||` 當空格子）
- 🔗 **設定分享連結**：把目前設定序列化到 URL **hash**，分享該網址即可還原設定（僅本地解析，不經伺服器）。
- 📋 **一鍵複製 / 下載 .txt**：生成後可直接複製或下載文字檔。
- 📝 **2000 字警示**：即時顯示目前輸出字元數，超過 Discord 單則訊息上限時會提示。
- 🛡️ **純前端、本地運算**：不會上傳任何資料；離線亦可使用。

---

## 使用方式

### 1) 設定矩陣與行為
- **列 (Rows)** / **行 (Cols)**：預設 6×6。
- **種子 (Seed)**（可選）：填入任意字串可重現同一排列；不填則使用系統隨機。
- **不足格填補策略 (Fill Mode)**：決定不足格時的補法。
- **填補表情 (Fallback Token)**：若選擇「使用下方填補表情」時，提供此 token。

### 2) 輸入表情與數量
- 點「**＋ 新增一列**」新增一筆：
  - **表情 Token**：可為 `<:name:id>`、`<a:name:id>`、一般 emoji 或任意字串。
  - **數量**：該 token 欲放入的格數。
- 或點「**快速貼上**」：每行一筆 `token 數量`，例：
  ```
  <:shuangla:1412000818487496744> 1
  <:seokhunter1:1401211645749100727> 35
  ```
- 內部會先依「數量」展開；若**超過**格數會自動截斷；若**不足**則依填補策略補滿。

### 3) 產生、複製、下載
- 按 **「產生」** → 右側「輸出」區會出現多行文字。
- 每格皆已包成 `||...||`；相鄰格之間看見 `||||` 為**正常行為**（上一格結束與下一格開始相接）。
- 可按 **「複製」** 或 **「下載 .txt」** 保存；亦可按 **「產生分享連結」** 以 URL hash 分享設定。

---

## 小技巧
- 想可重現：指定固定 **種子**。
- 想固定某種「底色」：用「使用下方填補表情」並填入想要的 token。
- 想精準控制總字數：調整矩陣尺寸或每種表情的數量；右側有字數顯示可即時觀察。

---

## 常見問題（FAQ）
**Q：為什麼看到很多 `||||`？**  
A：每格以 `||...||` 包裹，兩格相鄰時結尾與開頭會黏在一起，看起來像 `||||`。Discord 顯示時為兩個獨立 spoiler。

**Q：超過 2000 字怎麼辦？**  
A：Discord 單則訊息上限為 2000 字；請縮小矩陣尺寸或減少表情數量。

**Q：支援動圖表情嗎？**  
A：支援，格式為 `<a:name:id>`。

**Q：資料會上傳嗎？**  
A：所有計算皆在瀏覽器本地完成，分享連結資訊僅存在 URL hash 中。
